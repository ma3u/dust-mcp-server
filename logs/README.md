# Logger System Documentation

This directory contains log files generated by the application's logging system.

## Log Files

Log files follow this naming convention:
- `app-YYYY-MM-DD.log` - Main application logs
- `database-YYYY-MM-DD.log` - Database-specific logs (if using a custom database logger)

Rotated log files will have a timestamp appended: `app-YYYY-MM-DD.log.YYYY-MM-DD-THH-MM-SS-sssZ`

## Log Levels

The logger supports the following log levels (from lowest to highest priority):

1. **ERROR** - Critical errors that prevent the application from functioning correctly
2. **WARN** - Warning conditions that should be addressed but don't prevent operation
3. **INFO** - Informational messages about normal application operation (default)
4. **DEBUG** - Detailed information useful for debugging
5. **TRACE** - Very detailed tracing information

## Configuration

Log level can be configured via the `LOG_LEVEL` environment variable:

```
LOG_LEVEL=INFO  # Options: ERROR, WARN, INFO, DEBUG, TRACE
```

## Usage in Code

```typescript
import logger, { LogLevel } from '../utils/logger.js';

// Basic usage
logger.error('This is an error message');
logger.warn('This is a warning message');
logger.info('This is an info message');
logger.debug('This is a debug message');
logger.trace('This is a trace message');

// With metadata
logger.info('User authenticated', { userId: '123', timestamp: new Date().toISOString() });

// Change log level dynamically
logger.setLevel(LogLevel.DEBUG);
```

## MCP STDIO Compatibility

The logger is designed to be compatible with MCP STDIO JSON output by:
1. Using `console.error()` instead of `console.log()` for console output
2. Maintaining a consistent log format that doesn't interfere with JSON parsing
3. Properly handling file rotation and errors without disrupting the main application

## Best Practices

1. Use appropriate log levels for different types of messages
2. Include relevant context in log messages
3. Never log sensitive information (passwords, API keys, etc.)
4. Use structured logging (metadata objects) for machine-parseable logs
5. Keep log messages concise and informative
